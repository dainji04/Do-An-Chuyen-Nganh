<div class="product-card-type">
  <div class="product-image-wrapper">
    <img class="product-image" [src]="product.image" [alt]="product.productname" />

    <!-- Overlay Badge -->
    <div class="overlay-badge" *ngIf="product.discount > 0">-{{ product.discount }}%</div>

    <!-- Hover Overlay -->
    <div class="product-overlay">
      <div class="product-actions">
        <button
          class="btn-action btn-view-detail"
          [routerLink]="['/product', product.id]"
          title="Xem chi tiết"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
          <span>Xem chi tiết</span>
        </button>

        <button
          class="btn-action btn-buy-now"
          (click)="buyNow($event)"
          [routerLink]="['/product', product.id]"
          title="Mua ngay"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
            ></path>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
            <line x1="12" y1="22.08" x2="12" y2="12"></line>
          </svg>
          <span>Mua ngay</span>
        </button>

        <button
          class="btn-action btn-add-cart"
          (click)="addToCart($event)"
          [disabled]="isAddingToCart"
          title="Thêm vào giỏ hàng"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
          </svg>
          <span>Thêm giỏ hàng</span>
        </button>
      </div>
    </div>
  </div>

  <div class="product-info">
    <h3 class="product-title" [routerLink]="['/product', product.id]">
      {{ product.productname }}
    </h3>
    <p class="product-description">{{ product.description }}</p>

    <div class="product-footer">
      <div class="price-wrapper">
        <p class="product-price">{{ product.price | currency : '' : '' : '1.0-0' }}₫</p>
        @if (product.discount > 0) {
        <p class="product-price-original">
          {{ product.price / (1 - product.discount / 100) | currency : '' : '' : '1.0-0' }}₫
        </p>
        }
      </div>
    </div>
  </div>
</div>
